import java.util.Scanner;
import java.util.ArrayList;

/**
 * Driver class creates a UI for the players to interact with
 */

public class Driver {
    //Instance variables
	private Scanner input;
	private Board board;
	private Player player;
	private Cards cards;
	private CardSetup cardSetup;
	int i;
	ArrayList<String> playerNames = new ArrayList<String>();
    
	
	public Driver()
	{
		input = new Scanner(System.in);
		board = new Board();
		player = new Player();
		cards = new Cards();
		cardSetup = new CardSetup(null, null, 0);
		i=0;
		numberOfPlayers();
	}

	public static void main(String[] argvs){
		Driver driver = new Driver();
	}



    //Allows 3-6 players to play
	private void numberOfPlayers()
	{
		System.out.println("Enter the number of players: ");
		int i = input.nextInt();
		if (i>=3 && i < 7)
		{
			this.i=i;
			run();
		}
		else
		{
			System.out.println("Invalid Number of Players, has to be between 3 and 6");
			System.out.println("\nPress any key to continue...");
			input.nextLine();
			input.nextLine(); 
			//clear the terminal window and display the main menu again
			System.out.println("\f");
			numberOfPlayers();
		}


	}
   
	//Runs the method
	private void run()
	{
		int option = mainMenu();
		while (option != 0)
		{

			switch (option)
			{
			case 1:    addPlayer();
			break; 
			// case 2 is load game feature, add later?
			case 3:    System.out.println(board.toString());
			break;
			case 4:    firstMenu();
			break;
			}
			System.out.println("\nPress any key to continue...");
			input.nextLine();
			input.nextLine();  //this second read is required - bug in Scanner class; a String read is ignored straight after reading an int.

			//clear the terminal window and display the main menu again
			System.out.println("\f");
			option = mainMenu();
		}   
		System.out.println("Exiting... bye");
		System.exit(0);
	}
     
	//Display of the first method
	private void firstMenu()
	{
		int option = mainMenuTwo();
		while (option != 0)
		{

			switch (option)
			{
			case 1:    drawingCards(); 
			break;
		//	case 2:    load
			}
			System.out.println("\nPress any key to continue...");
			input.nextLine();
			input.nextLine();  //this second read is required - bug in Scanner class; a String read is ignored straight after reading an int.

			//clear the terminal window and display the main menu again
			System.out.println("\f");
			option = mainMenuTwo();
		}   
		System.out.println("Exiting... bye");
		System.exit(0);
	}
	 
	//Main menu display
	private int mainMenu()     
	{ 
		System.out.println("Welcome to Stocks and Shares");
		System.out.println("---------");     
		System.out.println("  1) Add Player Names");    
		System.out.println("  2) Load Game");
		System.out.println("   3)  Get Current Stock Prices");
		System.out.println("  4) End Turn");
		System.out.println("  0) Quit Game");
		int option = input.nextInt();
		return option;	
	}
	
	//Second menu display
	private int mainMenuTwo()
	{
		System.out.println("Stocks and Shares");
		System.out.println("---------");     
		System.out.println("  1) Draw Card");
		
		System.out.println("   3)  Save Game");
		
		int option = input.nextInt();
		return option;	
	}

    //Allows you to add player's names
	private void addPlayer()  
	{
		for(int b=0; b<i; b++)
		{
			System.out.println("Player Number " + (b+1) + " enter your name: ");
			String c = input.nextLine();
			c = input.nextLine();
			playerNames.add(c);

		}
	}
	
	//Draws cards
	public String drawingCards(){
		int i=1;
		if (playerNames.size() > 0)
		{
		for (String player: playerNames){
			        System.out.println("Player" + i + " are you ready to draw your card?");
			        String newStatus = input.nextLine();
			        newStatus.toLowerCase();
			        if (newStatus.equals("y"))
			        {
					System.out.println(cards.drawCard());
				    cards.removeArray(cards.getIndex());
				    i++;
			        }
				}
		cards.makeCards();
		}
	return "Need more players";
}
	}

